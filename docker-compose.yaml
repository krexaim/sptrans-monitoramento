services:
  postgres:
    image: postgres:15
    container_name: postgres
    environment:
      POSTGRES_USER: airflow
      POSTGRES_PASSWORD: airflow
      POSTGRES_DB: airflow
    ports:
      - "5432:5432"
    #volumes

  minio:
    image:  quay.io/minio/minio:RELEASE.2025-02-28T09-55-16Z
    entrypoint: sh
    command: '-c ''mkdir -p /minio_data/bronze && mkdir -p /minio_data/silver && mkdir -p /minio_data/gold && minio server /minio_data --console-address ":9001"'''
    ports:
      - "9000:9000"
      - "9001:9001"
    environment:
      MINIO_ROOT_USER: admin
      MINIO_ROOT_PASSWORD: minioadmin
      # MINIO_NOTIFY_KAFKA_ENABLE_EventKafka: "on"
      # MINIO_NOTIFY_KAFKA_BROKERS_EventKafka: "kafka-broker:29092"
      # MINIO_NOTIFY_KAFKA_TOPIC_EventKafka: "sink-raw"
      # MINIO_NOTIFY_KAFKA_QUEUE_LIMIT_EventKafka: "10000"
      # MINIO_NOTIFY_KAFKA_TLS_EventKafka: "off"
      
  airflow:
  #todo